{"version":3,"sources":["services/puhelin.js","App.js","index.js"],"names":["baseUrl","puhelinService","getAll","axios","get","create","newObject","post","update","id","put","remove","delete","Number","name","number","onDelete","onClick","Phonebook","list","filter","person","toLowerCase","startsWith","map","i","Field","onChange","fieldName","value","event","Form","fields","onSubmit","field","type","Notification","message","style","color","backGround","fontSize","borderStyle","borderRadius","padding","marginBottom","c","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notiMessage","setNotiMessage","setNoti","content","setTimeout","useEffect","then","response","data","target","handleFieldChange","handleNumberFieldChange","handleFilterFieldChange","preventDefault","newEntry","personCheck","a","length","window","confirm","returnedNmb","p","catch","error","alert","concat","addNewNumber","personToDelete","find","deleteNumber","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.36446681.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst puhelinService = { getAll, create, update, remove}\r\n\r\nexport default puhelinService","import React, { useState, useEffect } from 'react'\nimport puhelinService from './services/puhelin'\n\nconst Number = ({name, number, onDelete}) => (\n  <div>\n  <p>{name} {number}</p>\n  <button onClick={onDelete}>Delete</button>\n  </div>\n)\nconst Phonebook = ({list, filter, onDelete}) => (\n  <div>\n  <h2>Numbers</h2>  \n  {list.filter(person => person.name\n    .toLowerCase()\n    .startsWith(filter.toLowerCase()))\n    .map((person, i) =>\n      <Number key={i} name={person.name} number={person.number} onDelete={(id) => onDelete(person.id)}/>)}\n  </div>\n)\n\nconst Field = ({onChange, fieldName, value}) => {\n    return(\n        <div>{fieldName} \n          <input value={value} onChange={(event) => onChange(event)}/>\n        </div>\n    )\n  }\n  const Form = ({fields, onSubmit}) => {\n    return (\n      <form onSubmit={(event) => onSubmit(event)}>\n      {fields.map((field, i) => <Field key={i} fieldName={field.fieldName} value={field.value} onChange={field.onChange}/>)} <div>\n      <button type=\"submit\" >add</button>\n      </div>\n      </form>\n    )\n}\nconst Notification = ({ message }) => {\n  const errorStyle = {\n    color: 'red',\n    backGround: 'pink',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n  const successStyle = {\n    color: 'green',\n    backGround: 'lightgreen',\n    fontSize: '20px',\n    borderStyle: 'solid',\n    borderRadius: '5px',\n    padding: '10px',\n    marginBottom: '10px'\n  }\n  \n  if (message === null) {\n    return null\n  }\n  if (message.id === 0)\n  {\n    return (\n      <div style={errorStyle}>\n        {message.c}\n      </div>\n    )\n  }\n  else{\n    return (\n      <div style={successStyle}>\n        {message.c}\n      </div>\n    )\n  }\n}\nconst App = () => {\n\n  const addNewNumber = (event) =>\n  {\n    event.preventDefault()\n    const newEntry = {name: newName, number: newNumber}\n    const personCheck = [...persons].filter(a => a.name === newName)\n    if (personCheck.length > 0)\n    {\n      if (personCheck[0].number !== newNumber)\n      {\n        if(window.confirm(`${newName} is already added to phonebook, replace old number with new one?`))\n        {\n          const id = personCheck[0].id\n          puhelinService\n          .getAll\n          .then(response=> {\n           setPersons(response.data) \n          })\n          .update(id, newEntry)\n          .then(returnedNmb => {\n            setPersons(persons.map(p => p.id !== returnedNmb.data.id ? p : returnedNmb.data))\n            setNoti(`${newEntry.number}updated number!`, 1)\n          })\n          .catch(error => {setNoti('updating number failed', 0)})\n          setNewName('')\n          setNewNumber('')\n        }\n        }\n        else {\n          alert(`${newName} is already added to phonebook`)\n      }\n    }\n    else{\n    puhelinService\n      .create(newEntry)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        setNoti(`${newEntry.name}Added number!`, 1)\n      })\n      .catch(error => {setNoti(`${error}Adding number failed`, 0)})\n    setNewName('')\n    setNewNumber('')\n    }\n  }\n  const deleteNumber = (id) =>\n  {\n    const personToDelete = [...persons].find(a=> a.id === id).name\n    if(window.confirm(`Do you really want to delete ${personToDelete}`))\n    {\n      puhelinService\n      .remove(id)\n      .then(response => {\n        setNoti(`Deleted ${personToDelete}'s number!`, 1)\n        setPersons(persons.filter(a => a.id !== id))\n      })\n      .catch(error=>{setNoti('Deleting number failed', 0)})\n      puhelinService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n    }\n  }\n\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [notiMessage, setNotiMessage] = useState(null)\n  const setNoti = (content, id) => {\n    setNotiMessage({c: content,id: id})\n    setTimeout(() => {\n      setNotiMessage(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    const refreshPage = () => {\n      puhelinService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n    }\n    refreshPage()\n    },[])\n  const handleFieldChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberFieldChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterFieldChange = (event) => {\n    setFilter(event.target.value)\n  }\n  const fields = [\n    {\n      onChange: (event) => handleFieldChange(event),\n      fieldName: \"Add Name\",\n      value: newName\n    },\n    {\n      onChange: (event) => handleNumberFieldChange(event),\n      fieldName: \"Add Number\",\n      value: newNumber\n    }\n  ]\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notiMessage} />\n      <Field onChange={(event) => handleFilterFieldChange(event)}\n      fieldName=\"Filter\"\n      value={filter}/>\n      <Form fields={fields} \n      onSubmit={(event) => addNewNumber(event)}/>\n      <Phonebook list={persons} filter={filter} onDelete={(id) => deleteNumber(id)}/>\n      </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}